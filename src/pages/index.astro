---
import Layout from '@/layouts/Layout.astro';
import PostPreview from '@/components/PostPreview.astro';
import { getAllPosts } from '@/data/post';

const posts = await getAllPosts()
---

<Layout>
    <div class="flex flex-col gap-12">
        <section class="flex flex-col gap-y-4">
            <h2 class="text-xl font-semibold text-gray-900">Hello world</h2>
            <p class="mb-4 text-gray-800">
                Hi, Iâ€™m a theme for Astro, a simple starter that you can use to create your website or blog.
                If you want to know more about how you can customise me, add more posts, and make it your own,
                click on the GitHub icon link below and it will take you to my repo.
            </p>
        </section>

        <section class="flex flex-col gap-4">
            <h2 class="text-xl font-semibold text-gray-900">Recent posts</h2>
            <!-- Latest 5 posts -->
            {posts.slice(0, 5).map(post => (
              <PostPreview post={post} />
            ))}
            <div>
                <a href="/blog" class="text-cyan-600 hover:underline underline-offset-2">See all</a>
            <div>
        </section>
    </div>
</Layout>
